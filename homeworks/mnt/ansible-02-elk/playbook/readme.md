## Домашнее задание Ansible-02, С.Г. Комаров

Описание подготовленого playbook-файла site.yml:

Данный плейбук предназначен для автоматизированной установки и настройки сервисов clickhouse (база данных для хранения лог-файлов) и vector (фильтрация и преобразование поступающих лог-файлов, передача выходных данных в clickhouse). В данном примере мы устанавливаем clickhouse и vetor на один и тот же хост.

Описание работы плейбука на примере Vector:

1. Объявляем play Vector, который будет выполняться на группе хостов vector и правами суперпользователя
2. Объявляем handler retart vector service, который будет отвечать за перезапуск сервиса vector после применения новой конфигурации
3. Загружаем дистрибутив vector. Версию дистрибутива берем из переменной vector_version, которую объявляем в vars.yml
4. Запускаем установку скачанного дистрибутива посредством встроенного модуля ansible.builtin.yum
5. После установки vector, помещаем сервис в автозапуск и запускаем его, используя модуль ansible.builtin.systemd
6. Пользуясь модулем ansible.builtin.template, заполняем конфигурационный файл vector (поставляем ip-адрес ckickhouse, который взяли из facts), находящийся в папке config, копируем его в папку с конфигурацией vector на сервере и перезапускаем сервис, используя handler
