#### Задача 1

напишите список операций, которые вы будете производить для остановки запроса пользователя

```
db.killOp(<opId>)

```

предложите вариант решения проблемы с долгими (зависающими) запросами в MongoDB

Мы можем предложить разработчикам ограничиваь максимальное время запроса, устанавливая параметр maxTimeMS()
В данном примере, мы установили максимальное время запроса в 45 секунд

```
db.runCommand( { distinct: "collection",
                 key: "city",
                 maxTimeMS: 45 } )
```

#### Задача 2

Ответ:  

Задержка, вызванная истечением срока действия ключей.
Накопилось очень много ключей, срок действия которых кончается в одну и ту же секунду и Redis блокирует операции записи, чтобы получить % ключей, которые уже истекли.

#### Задача 3

Вышеупомянутая ошибка обычно возникает, когда вы запускаете длинный или сложный запрос MySQL, который выполняется более нескольких секунд.
По умолчанию MySQL будет ждать 10 секунд, прежде чем ответить с ошибкой тайм-аута соединения.

Попробуем увеличить время ожидания ответа до 60 секунд в текущей сесии и убедится, что ошибка ушла:
```
mysql -uroot -proot --connect-timeout 120
```
Увеличиваем время до тех пор, пока ошибка не уйдет.

После того, как мы подобрали необходимое значение, необходимо установить его в конфиругационном файле сервера:

```
[mysqld]
...
connect_timeout = 120
...

```

#### Задача 4

По всей видимости, postgres выедает всю доступную память и система начинает с этим бороться, останавливая неугодные ей процессы, посредством om-killer
В даном случае, мы можем сделать следующее:

1. По возможности, накинуть оперативной памяти текущей машине
2. Запретить ядру резервировать избыточное кол-во памяти: ```overcommit_ratio = 2```
3. Установить большое значение параметра OOMScoreAdjust для сервиса postgres, чтобы снизить вероятность его принудительного завершения
4. Проанализировать и оптимизировать настройки выделения памяти, согласно документации: https://www.postgresql.org/docs/current/runtime-config-resource.html#RUNTIME-CONFIG-RESOURCE-MEMORY


